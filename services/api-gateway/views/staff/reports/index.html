<!DOCTYPE html>
<!--
  Copyright 2026 txrx-byte

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<html>
<head>
  <meta charset="utf-8">
  <meta name="referrer" content="never">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Reports - Ashchan Staff</title>
  <link rel="stylesheet" type="text/css" href="/staff/css/admincore.css">
  <link rel="stylesheet" type="text/css" href="/staff/css/reportqueue.css">
  <link rel="shortcut icon" href="/staff/favicon.ico" type="image/x-icon">
  <script type="text/javascript">
    var DATA_SERVER = "", STATIC_SERVER = "/static/", IMG_SERVER = "/images/", IMG_SUBDIR = "", THUMB_SUBDIR = "thumb", PHP_EXT2 = "";
  </script>
  <script type="text/javascript" src="/staff/js/helpers.js"></script>
  <script type="text/javascript" src="/staff/js/admincore.js"></script>
  <script type="text/javascript" src="/staff/js/reportqueue.js"></script>
  <?php if ($isMod ?? false): ?>
  <script type="text/javascript" src="/staff/js/reportqueue-mod.js"></script>
  <?php endif ?>
</head>
<body>
<header>
  <form autocomplete="off" action="#" id="filter-form">
    <input name="q" type="text" id="search-box" placeholder="Filter">
    <?php if ($isMod ?? false): ?>
    <button id="rep-cat-btn" type="button">&#9662;</button>
    <?php endif ?>
    <button id="search-btn" type="submit">âŒ•</button>
    <button id="reset-btn" class="hidden" type="reset">&times;</button>
    <span data-tip-delay="500" data-tip="Filter by content (comment, nametrip, subject)<?php if (!($isMod ?? false)): ?> or thread (ID or post URL)<?php else: ?>, thread (ID or post URL) or reporter IP<?php endif ?>" class="search-help-tt">?</span>
    <?php if ($isMod ?? false): ?>
    <div id="js-rep-cats-dl" class="hidden"></div>
    <?php endif ?>
  </form>
  <h1 id="title">Reports</h1>
  <div id="cfg-btn" tabindex="-1">
    <span>&hellip;</span>
    <div>
      <label><input data-cmd="toggle-dt" id="cfg-cb-dt" type="checkbox" autocomplete="off">Dark Theme</label>
    </div>
  </div>
</header>
<div id="menu">
  <span id="refresh-btn" data-cmd="refresh" class="button button-light left">Refresh</span>
  <span id="settings-btn" data-tip="Settings" data-cmd="show-settings" class="button button-light right"><span class="icon icon-cog"></span></span>
  <?php if ($isMod ?? false): ?>
  <a class="button button-light right" href="/staff/dashboard">Dashboard</a>
  <span data-tip="Ban Requests" data-cmd="show-ban-requests" class="button button-light right">BR</span>
  <?php endif ?>
  <span id="cleared-btn" data-tip="Show/Hide Cleared Reports" data-cmd="toggle-cleared" class="button button-light right">CLR</span>
  <?php if ($isMod ?? false): ?>
  <span id="extrafetch-btn" data-tip="Show/Hide Ignored Reports" data-cmd="toggle-ignored" class="button button-light right">IGN</span>
  <?php endif ?>
  <ul id="board-menu" class="desktop">
    <li data-cmd="switch-board">All</li>
    <?php if (!isset($access['board'])): ?>
    <li data-cmd="switch-board" class="txt-xs" data-slug="_ws_" data-tip="Worksafe Boards Only">WS</li>
    <?php endif ?>
    <?php foreach(($boardlist ?? []) as $board): ?>
    <li data-cmd="switch-board" class="board-slug"><?= htmlspecialchars($board) ?></li>
    <?php endforeach ?>
    <li id="more-slugs"><span data-cmd="reset-menu">&hellip;</span></li>
  </ul>
</div>
<div id="content">
  <div id="items"></div>
</div>
<div data-cmd="shift-panel" id="panel-stack" tabindex="-1"></div>

<script type="text/javascript">
//<![CDATA[
  var RQ_CONFIG = {
    boardlist: <?= json_encode($boardlist ?? []) ?>,
    isMod: <?= $isMod ? 'true' : 'false' ?>,
    apiBase: '/staff/reports'
  };
//]]>
</script>
</body>
</html>
