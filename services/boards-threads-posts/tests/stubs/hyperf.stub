// Hyperf Framework Stub File for PHPStan
//
// This file provides type hints for commonly used Hyperf classes
// to improve PHPStan's type inference in test files.
//
// Usage: Reference in phpstan.neon under stubFiles

namespace Hyperf\DbConnection {
    /**
     * Database connection facade.
     */
    class Db
    {
        /**
         * @template T of \Hyperf\Database\Model\Model
         * @param class-string<T> $table
         * @return \Hyperf\Database\Query\Builder
         */
        public static function table(string $table): \Hyperf\Database\Query\Builder {}

        /**
         * @template T of \Hyperf\Database\Model\Model
         * @param class-string<T> $model
         * @return \Hyperf\Database\Model\Builder<T>
         */
        public static function connection(?string $name = null): \Hyperf\Database\Connection {}

        /**
         * @param string $query
         * @param array $bindings
         * @return array
         */
        public static function select(string $query, array $bindings = []): array {}

        /**
         * @param string $query
         * @param array $bindings
         * @return int
         */
        public static function update(string $query, array $bindings = []): int {}

        /**
         * @param string $query
         * @param array $bindings
         * @return int
         */
        public static function delete(string $query, array $bindings = []): int {}

        /**
         * @param string $query
         * @param array $bindings
         * @return int
         */
        public static function insert(string $query, array $bindings = []): int {}
    }
}

namespace Hyperf\Redis {
    /**
     * Redis client wrapper.
     *
     * @final This class is final but can be mocked in tests using DG\BypassFinals
     */
    class Redis
    {
        /**
         * @param string $key
         * @return mixed
         */
        public function get(string $key): mixed {}

        /**
         * @param string $key
         * @param mixed $value
         * @param int|null $ttl Time to live in seconds
         * @return bool
         */
        public function set(string $key, mixed $value, ?int $ttl = null): bool {}

        /**
         * @param string $key
         * @return int Number of keys deleted
         */
        public function del(string $key): int {}

        /**
         * @param string $key
         * @param int $seconds
         * @param mixed $value
         * @return bool
         */
        public function setex(string $key, int $seconds, mixed $value): bool {}

        /**
         * @param string $key
         * @return bool
         */
        public function exists(string $key): bool {}

        /**
         * @param string $key
         * @param int $value
         * @return int
         */
        public function incr(string $key): int {}

        /**
         * @param string $key
         * @param int $value
         * @return int
         */
        public function decr(string $key): int {}

        /**
         * @param string $key
         * @param mixed $value
         * @return int
         */
        public function lPush(string $key, mixed $value): int {}

        /**
         * @param string $key
         * @param int $start
         * @param int $stop
         * @return array
         */
        public function lRange(string $key, int $start, int $stop): array {}

        /**
         * @param string $key
         * @param mixed $value
         * @return int
         */
        public function rPush(string $key, mixed $value): int {}

        /**
         * @param string $key
         * @return mixed
         */
        public function lPop(string $key): mixed {}

        /**
         * @param string $key
         * @return mixed
         */
        public function rPop(string $key): mixed {}

        /**
         * @param string $key
         * @param mixed $value
         * @return int
         */
        public function sAdd(string $key, mixed $value): int {}

        /**
         * @param string $key
         * @return array
         */
        public function sMembers(string $key): array {}

        /**
         * @param string $key
         * @param mixed $value
         * @return bool
         */
        public function sIsMember(string $key, mixed $value): bool {}

        /**
         * @param string $key
         * @param mixed $value
         * @return int
         */
        public function zAdd(string $key, float $score, mixed $value): int {}

        /**
         * @param string $key
         * @param int $start
         * @param int $stop
         * @return array
         */
        public function zRange(string $key, int $start, int $stop): array {}

        /**
         * @param string $key
         * @param float $min
         * @param float $max
         * @return array
         */
        public function zRangeByScore(string $key, float $min, float $max): array {}

        /**
         * @param string $key
         * @param float $min
         * @param float $max
         * @return int
         */
        public function zRemRangeByScore(string $key, float $min, float $max): int {}

        /**
         * @param string $pattern
         * @return array
         */
        public function keys(string $pattern): array {}

        /**
         * @return void
         */
        public function flushDb(): void {}
    }
}

namespace Hyperf\HttpServer\Contract {
    /**
     * Request interface.
     */
    interface RequestInterface
    {
        /**
         * @param string|null $key
         * @param mixed $default
         * @return mixed
         */
        public function input(?string $key = null, mixed $default = null): mixed;

        /**
         * @param string|null $key
         * @param mixed $default
         * @return mixed
         */
        public function query(?string $key = null, mixed $default = null): mixed;

        /**
         * @param string|null $key
         * @param mixed $default
         * @return mixed
         */
        public function post(?string $key = null, mixed $default = null): mixed;

        /**
         * @return array
         */
        public function all(): array;

        /**
         * @return string
         */
        public function getMethod(): string;

        /**
         * @return string
         */
        public function getPathInfo(): string;

        /**
         * @return string
         */
        public function getUri(): string;

        /**
         * @param string|null $key
         * @param mixed $default
         * @return mixed
         */
        public function header(?string $key = null, mixed $default = null): mixed;

        /**
         * @return array
         */
        public function getHeaders(): array;

        /**
         * @return string
         */
        public function getContentType(): string;

        /**
         * @return array
         */
        public function getParsedBody(): array;

        /**
         * @return array
         */
        public function getUploadedFiles(): array;

        /**
         * @return string
         */
        public function getServerParams(): array;

        /**
         * @return string
         */
        public function getCookieParams(): array;

        /**
         * @param array $cookies
         * @return static
         */
        public function withCookieParams(array $cookies): static;
    }

    /**
     * Response interface.
     */
    interface ResponseInterface
    {
        /**
         * @param mixed $data
         * @param int $statusCode
         * @return static
         */
        public function json(mixed $data = [], int $statusCode = 200): static;

        /**
         * @param string $data
         * @param int $statusCode
         * @return static
         */
        public function html(string $data = '', int $statusCode = 200): static;

        /**
         * @param string $data
         * @param int $statusCode
         * @return static
         */
        public function raw(string $data, int $statusCode = 200): static;

        /**
         * @param string $key
         * @param string $value
         * @return static
         */
        public function withHeader(string $key, string $value): static;

        /**
         * @param array $headers
         * @return static
         */
        public function withHeaders(array $headers): static;

        /**
         * @param int $code
         * @return static
         */
        public function withStatus(int $code): static;

        /**
         * @param string $url
         * @param int $status
         * @return static
         */
        public function redirect(string $url, int $status = 302): static;

        /**
         * @param string $name
         * @param mixed $value
         * @param int $minutes
         * @param string $path
         * @param string|null $domain
         * @param bool $secure
         * @param bool $httpOnly
         * @return static
         */
        public function cookie(
            string $name,
            mixed $value,
            int $minutes = 0,
            string $path = '/',
            ?string $domain = null,
            bool $secure = false,
            bool $httpOnly = false
        ): static;
    }
}

namespace Hyperf\Logger {
    /**
     * Logger factory.
     */
    class LoggerFactory
    {
        /**
         * @param string $group
         * @param string|null $name
         * @return \Psr\Log\LoggerInterface
         */
        public function get(string $group = 'app', ?string $name = null): \Psr\Log\LoggerInterface {}
    }
}

namespace Hyperf\Utils {
    /**
     * Collection utility.
     *
     * @template TKey of array-key
     * @template TValue
     */
    class Collection implements \ArrayAccess, \Countable, \IteratorAggregate
    {
        /**
         * @param array<TKey, TValue> $items
         */
        public function __construct(array $items = []) {}

        /**
         * @template TMakeKey of array-key
         * @template TMakeValue
         * @param array<TMakeKey, TMakeValue> $items
         * @return static<TMakeKey, TMakeValue>
         */
        public static function make(array $items = []): static {}

        /**
         * @param callable(TValue, TKey): bool $callback
         * @return static<TKey, TValue>
         */
        public function filter(?callable $callback = null): static {}

        /**
         * @param callable(TValue, TKey): mixed $callback
         * @return static<TKey, mixed>
         */
        public function map(callable $callback): static {}

        /**
         * @return TValue|null
         */
        public function first(?callable $callback = null, mixed $default = null): mixed {}

        /**
         * @return TValue|null
         */
        public function last(?callable $callback = null, mixed $default = null): mixed {}

        /**
         * @return array<TKey, TValue>
         */
        public function all(): array {}

        /**
         * @param TKey $key
         * @param TValue|null $default
         * @return TValue|null
         */
        public function get(string|int $key, mixed $default = null): mixed {}

        /**
         * @param TKey $key
         * @param TValue $value
         * @return static<TKey, TValue>
         */
        public function put(string|int $key, mixed $value): static {}

        /**
         * @param TKey $key
         * @return static<TKey, TValue>
         */
        public function forget(string|int $key): static {}

        /**
         * @return int
         */
        public function count(): int {}

        /**
         * @return \ArrayIterator<TKey, TValue>
         */
        public function getIterator(): \ArrayIterator {}

        /**
         * @param TKey $key
         * @return bool
         */
        public function offsetExists(mixed $key): bool {}

        /**
         * @param TKey $key
         * @return TValue
         */
        public function offsetGet(mixed $key): mixed {}

        /**
         * @param TKey $key
         * @param TValue $value
         * @return void
         */
        public function offsetSet(mixed $key, mixed $value): void {}

        /**
         * @param TKey $key
         * @return void
         */
        public function offsetUnset(mixed $key): void {}
    }
}

namespace Hyperf\Database\Model {
    /**
     * Base model class.
     *
     * @template T of static
     */
    class Model implements \ArrayAccess
    {
        /**
         * @param array<string, mixed> $attributes
         */
        public function __construct(array $attributes = []) {}

        /**
         * @template TModel of static
         * @param class-string<TModel> $model
         * @return \Hyperf\Database\Model\Builder<TModel>
         */
        public static function query(string $model = null): \Hyperf\Database\Model\Builder {}

        /**
         * @template TModel of static
         * @param class-string<TModel> $model
         * @return TModel|null
         */
        public static function find(int $id, string $model = null): ?Model {}

        /**
         * @template TModel of static
         * @param class-string<TModel> $model
         * @return TModel
         */
        public static function create(array $attributes = [], string $model = null): Model {}

        /**
         * @param string $key
         * @return mixed
         */
        public function getAttribute(string $key): mixed {}

        /**
         * @param string $key
         * @param mixed $value
         * @return void
         */
        public function setAttribute(string $key, mixed $value): void {}

        /**
         * @param array<string, mixed> $attributes
         * @return static
         */
        public function fill(array $attributes): static {}

        /**
         * @return bool
         */
        public function save(array $options = []): bool {}

        /**
         * @return bool
         */
        public function delete(): bool {}

        /**
         * @return int
         */
        public function getKey(): int {}

        /**
         * @return mixed
         */
        public function getKeyType(): mixed {}

        /**
         * @return array<string, mixed>
         */
        public function getAttributes(): array {}

        /**
         * @return array<string, mixed>
         */
        public function getCasts(): array {}

        /**
         * @return array<int, string>
         */
        public function getFillable(): array {}

        /**
         * @return array<int, string>
         */
        public function getHidden(): array {}

        /**
         * @param string $key
         * @return bool
         */
        public function hasAttribute(string $key): bool {}

        /**
         * @return static
         */
        public function replicate(): static {}

        /**
         * @return array<string, mixed>
         */
        public function toArray(): array {}

        /**
         * @return string
         */
        public function toJson(): string {}

        /**
         * @param mixed $offset
         * @return bool
         */
        public function offsetExists(mixed $offset): bool {}

        /**
         * @param mixed $offset
         * @return mixed
         */
        public function offsetGet(mixed $offset): mixed {}

        /**
         * @param mixed $offset
         * @param mixed $value
         * @return void
         */
        public function offsetSet(mixed $offset, mixed $value): void {}

        /**
         * @param mixed $offset
         * @return void
         */
        public function offsetUnset(mixed $offset): void {}
    }

    /**
     * Model builder.
     *
     * @template T of Model
     */
    class Builder
    {
        /**
         * @return T
         */
        public function find(int $id): ?Model {}

        /**
         * @return array<int, T>
         */
        public function get(): array {}

        /**
         * @return T|null
         */
        public function first(): ?Model {}

        /**
         * @return T
         */
        public function firstOrFail(): Model {}

        /**
         * @param array<string, mixed> $attributes
         * @return T
         */
        public function create(array $attributes = []): Model {}

        /**
         * @param array<string, mixed> $attributes
         * @param array<string, mixed> $values
         * @return T
         */
        public function firstOrCreate(array $attributes, array $values = []): Model {}

        /**
         * @param array<string, mixed> $attributes
         * @param array<string, mixed> $values
         * @return T
         */
        public function updateOrCreate(array $attributes, array $values = []): Model {}

        /**
         * @param array<string, mixed> $values
         * @return int
         */
        public function update(array $values): int {}

        /**
         * @return int
         */
        public function delete(): int {}

        /**
         * @param int $perPage
         * @return \stdClass
         */
        public function paginate(int $perPage = 15): \stdClass {}

        /**
         * @param int $limit
         * @return static<T>
         */
        public function limit(int $limit): static {}

        /**
         * @param int $offset
         * @return static<T>
         */
        public function offset(int $offset): static {}

        /**
         * @param string $column
         * @param string $direction
         * @return static<T>
         */
        public function orderBy(string $column, string $direction = 'asc'): static {}

        /**
         * @param string $column
         * @param mixed $operator
         * @param mixed $value
         * @return static<T>
         */
        public function where(string $column, mixed $operator = null, mixed $value = null): static {}

        /**
         * @param string $column
         * @param array $values
         * @return static<T>
         */
        public function whereIn(string $column, array $values): static {}

        /**
         * @param string $column
         * @param array $values
         * @return static<T>
         */
        public function whereNotIn(string $column, array $values): static {}

        /**
         * @return static<T>
         */
        public function with(array $relations): static {}

        /**
         * @return int
         */
        public function count(): int {}

        /**
         * @return static<T>
         */
        public function clone(): static {}
    }

    /**
     * Model relation.
     */
    class Relation
    {
        /**
         * @return \Hyperf\Database\Model\Builder
         */
        public function getQuery(): \Hyperf\Database\Model\Builder {}

        /**
         * @return array
         */
        public function getResults(): array {}

        /**
         * @return array
         */
        public function match(array $models): array {}
    }

    /**
     * HasMany relation.
     */
    class HasMany extends Relation
    {
    }

    /**
     * HasOne relation.
     */
    class HasOne extends Relation
    {
    }

    /**
     * BelongsTo relation.
     */
    class BelongsTo extends Relation
    {
    }

    /**
     * BelongsToMany relation.
     */
    class BelongsToMany extends Relation
    {
    }
}

namespace Hyperf\Config {
    /**
     * Config provider.
     */
    class Config
    {
        /**
         * @param string $key
         * @param mixed $default
         * @return mixed
         */
        public static function get(string $key, mixed $default = null): mixed {}

        /**
         * @param string $key
         * @return bool
         */
        public static function has(string $key): bool {}
    }
}

namespace Hyperf\Di {
    /**
     * Dependency injection container.
     */
    class Container
    {
        /**
         * @template T
         * @param class-string<T> $id
         * @return T
         */
        public function get(string $id): object {}

        /**
         * @param string $id
         * @return bool
         */
        public function has(string $id): bool {}
    }

    /**
     * Annotation for injecting dependencies.
     */
    #[\Attribute(\Attribute::TARGET_PROPERTY)]
    class Inject
    {
        public function __construct() {}
    }
}

namespace Hyperf\Context {
    /**
     * Application context.
     */
    class Context
    {
        /**
         * @param string $key
         * @param mixed $value
         * @return void
         */
        public static function set(string $key, mixed $value): void {}

        /**
         * @param string $key
         * @param mixed $default
         * @return mixed
         */
        public static function get(string $key, mixed $default = null): mixed {}

        /**
         * @param string $key
         * @return bool
         */
        public static function has(string $key): bool {}

        /**
         * @param string $key
         * @return void
         */
        public static function release(string $key): void {}
    }
}
