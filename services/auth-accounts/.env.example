# Ashchan Auth/Accounts Service Configuration
# mTLS ServiceMesh Environment

# ─────────────────────────────────────────────────────────────
# Service Identity
# ─────────────────────────────────────────────────────────────
APP_NAME=auth-accounts
APP_ENV=local
SERVICE_NAME=auth
SERVICE_DNS_NAME=auth.ashchan.local

# ─────────────────────────────────────────────────────────────
# Server Configuration
# ─────────────────────────────────────────────────────────────
# HTTP port (development only)
HTTP_PORT=9502

# Internal mTLS port (service-to-service)
MTLS_PORT=8443

# ─────────────────────────────────────────────────────────────
# mTLS Configuration (Service-to-Service)
# ─────────────────────────────────────────────────────────────
MTLS_ENABLED=true
MTLS_CERT_FILE=/etc/mtls/auth/auth.crt
MTLS_KEY_FILE=/etc/mtls/auth/auth.key
MTLS_CA_FILE=/etc/mtls/ca/ca.crt
MTLS_VERIFY_PEER=true
MTLS_MIN_TLS_VERSION=TLSv1.3

# Client certificates for outbound calls
MTLS_CLIENT_CERT_FILE=/etc/mtls/auth/auth.crt
MTLS_CLIENT_KEY_FILE=/etc/mtls/auth/auth.key

# ─────────────────────────────────────────────────────────────
# Database (PostgreSQL)
# ─────────────────────────────────────────────────────────────
DB_DRIVER=pgsql
DB_HOST=postgres.ashchan.local
DB_PORT=5432
DB_DATABASE=ashchan
DB_USERNAME=ashchan
DB_PASSWORD=ashchan
DB_CHARSET=utf8
DB_POOL_SIZE=10

# ─────────────────────────────────────────────────────────────
# Redis (Cache, Queue, Sessions)
# ─────────────────────────────────────────────────────────────
REDIS_HOST=redis.ashchan.local
REDIS_PORT=6379
REDIS_PASSWORD=null
REDIS_DB=1
REDIS_POOL_SIZE=10

# ─────────────────────────────────────────────────────────────
# JWT Configuration
# ─────────────────────────────────────────────────────────────
JWT_SECRET=change-me-in-production
JWT_TTL=3600
JWT_REFRESH_TTL=604800

# ─────────────────────────────────────────────────────────────
# Session Configuration
# ─────────────────────────────────────────────────────────────
SESSION_DRIVER=redis
SESSION_LIFETIME=120

# ─────────────────────────────────────────────────────────────
# Logging
# ─────────────────────────────────────────────────────────────
LOG_LEVEL=info
LOG_FORMAT=json
